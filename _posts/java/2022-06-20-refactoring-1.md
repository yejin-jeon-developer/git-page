---
title:  "Refactoring 1"
excerpt: "리팩토링 책 주요내용 정리 1"
categories:
  - java
---
### Chapter 1  
+ 변경하기 어려운 구조라면 변경하기 쉬운 구조로 우선 변경
+ 리팩토링이 필요한 이유는 '변경' 때문
+ 리팩토링의 첫 단계는 테스트 마련
  + 테스트를 마련하는데 시간이 걸리지만 디버깅 시간을 줄여주기 때문에 전체적인 개발 속도 감소
+ 조금씩 변경하고 매번 테스트 하기

1. 리팩토링 진행 과정
+ 함수 추출하기
  + 지역변수의 유효범위 문제 조심
  + 추출 하고 변수명 명확하게 변경
+ 지역 변수는 유효범위 문제 등 나중에 문제를 일으킬 수 있기 때문에 지양. 제거할 수 있으면 제거
+ 반복문 쪼개기
  + 반복문이 중첩될 경우 성능 이슈가 걱정될 수 있음
  + 그럴 경우 리팩토링 완료 후 성능 개선 실행
  + 리팩토링으로 성능 개선 작업시간을 크게 줄일 수 있음

```java
for (...) {
    ...
}

public int getTotal() { // 3. 함수로 분리, 사용하는 곳에서 지역변수 대신 인라인으로 사용
    int total; // 2. 변수 위치 for문 위로 이동
    for (int i = 0; i < 10; i++) {
        total += i; // 1. 반복문 쪼개기
    }
}
```

2. 계산 로직과 포맷팅 로직을 분리한다
   + 중간 데이터 처리과정 추가
3. 다형성 활용
