---
title:  "JUnit 2 : JUnit Test 기초 2"
excerpt: "JUnit Test 기초 2"
categories:
  - etc
---
## AAA
테스트 일관성 유지
1. 준비 (Arrange) : 테스트 코드를 실행하기 전 적절한 상태가 있는지 확인. 객체 생성 or 다른 API 호출
2. 실행 (Act) : 테스트 코드 실행. 주로 단일 메소드 호출
3. 단언 (Assert) : 실행한 코드가 기대한 대로 동작하는지 확인
4. 사후 (After) : (Optional) 어떤 자원을 할당했다면 잘 정리

## 동작 테스트 vs 메서드 테스트
+ 단위테스트를 작성할 때는 먼저 전체적인 시각에서 시작
+ 개별 메서드를 테스트하는 것이 아니라 클래스의 종합적인 동작을 테스트 해야함

## 테스트 분리
+ 다수의 케이스를 별도의 JUnit 테스트 메소드로 분리하는 것이 좋음
+ 테스트 고립의 중요한 이점
  + 단언이 실패했을때 실패한 테스트 이름이 표시되므로 어느 동작에서 문제가 발생하였는지 빠르게 파악 가능
  + 다른 테스트에 영향을 제거
  + 모든 케이스가 실행되었음을 보장
    + 단언이 실패하면 현재 테스트는 메소드가 중단됨
    + 실패 이후의 테스트 케이스는 실행되지 않음

## 문서로서의 테스트
+ 테스트가 없었으면 주석으로 적어 놓았을 내용을 보충하기도 함
+ 테스트는 만드는 클래스에 대한 지속적이고 믿을 수 있는 문서 역할을 해줌
+ 테스트 이름은 어떤 맥락에서 일련의 행동을 호출했을 때 어떤 결과가 나오는지를 명시
  + doingSomeOperationGenerateSomeResult -> 어딴 동작을 하면 어떤 결과가 나온다.
  + someResultOccursUnderSomeCondition -> 어떤 결과는 어떤 조건에서 발생한다.

## 테스트를 의미있게 만들기
다른사람이 테스트가 어떤 일을 하는지 파악하기 어려워한다면 주석을 추가하기 보단 테스트 이름을 개선
1. 지역변수 이름 개선
2. 의미있는 상수 도입
3. 햄크레스트 단언 사용
4. 커다란 테스트를 작게 나누어 집중적인 테스트로 만들기
5. 테스트 군더더기들을 도우미 메서드와 @Before 메서드로 이동하기

## 공통 초기화, 정리, 테스트 제외
1. @Before
+ 모든 테스트 전에 1회씩 실행 (공통 초기화)
2. @After
+ 모든 테스트 후에 1회씩 실행 (공통 정리)
3. @BeforeClass
+ 테스트 전 1회만 실행
4. @AfterClass
+ 테스트 후 1회만 실행
5. @ignore
+ 테스트 제외